# NFX-Identity Docker Compose Environment Variables
# 项目配置 / Project Configuration

# ============================================
# Traefik 配置 / Traefik Configuration
# ============================================
TRAEFIK_API_HOST=api.example.com
TRAEFIK_DASHBOARD_HOST=traefik.example.com
TRAEFIK_CONSOLE_HOST=admin.example.com
TRAEFIK_HTTP_PORT=10166
TRAEFIK_HTTPS_PORT=10167
TRAEFIK_DASHBOARD_PORT=10169
TRAEFIK_HTTP_INTERNAL_PORT=80
TRAEFIK_HTTPS_INTERNAL_PORT=443
TRAEFIK_DASHBOARD_INTERNAL_PORT=8080
TRAEFIK_CONFIG_FILE=/your-repo-location/NFX-Identity/traefik.yml
TRAEFIK_DYNAMIC_DIR=/your-repo-location/NFX-Identity/dynamic

# ============================================
# 服务端口配置 / Service Ports Configuration
# ============================================
HTTP_PORT=8080
CONSOLE_PORT=80
CONSOLE_EXTERNAL_PORT=10168

# ============================================
# gRPC 端口配置 / gRPC Ports Configuration
# ============================================
GRPC_PORT_ACCESS=10155
GRPC_PORT_AUTH=10156
GRPC_PORT_AUDIT=10157
GRPC_PORT_CLIENTS=10158
GRPC_PORT_DIRECTORY=10159
GRPC_PORT_IMAGE=10160
GRPC_PORT_SYSTEM=10161
GRPC_PORT_TENANTS=10162

# ============================================
# gRPC 服务主机配置 / gRPC Service Host Configuration
# ============================================
# 每个服务可以配置不同的主机，支持多主机部署
# 单主机部署时，所有服务使用相同的主机 IP
# 多主机部署时，每个服务可以设置不同的主机 IP
GRPC_HOST_ACCESS=192.168.1.64
GRPC_HOST_AUTH=192.168.1.64
GRPC_HOST_AUDIT=192.168.1.64
GRPC_HOST_CLIENTS=192.168.1.64
GRPC_HOST_DIRECTORY=192.168.1.64
GRPC_HOST_IMAGE=192.168.1.64
GRPC_HOST_SYSTEM=192.168.1.64
GRPC_HOST_TENANTS=192.168.1.64

# ============================================
# API 路径前缀 / API Path Prefixes
# ============================================
API_PREFIX_PATH_AUTH=/auth
API_PREFIX_PATH_IMAGE=/image
API_PREFIX_PATH_ACCESS=/access
API_PREFIX_PATH_AUDIT=/audit
API_PREFIX_PATH_CLIENTS=/clients
API_PREFIX_PATH_DIRECTORY=/directory
API_PREFIX_PATH_SYSTEM=/system
API_PREFIX_PATH_TENANTS=/tenants

# ============================================
# PostgreSQL 配置 / PostgreSQL Configuration
# ============================================
POSTGRESQL_HOST=192.168.1.64
POSTGRESQL_PORT=10105
POSTGRESQL_USER=postgres
POSTGRESQL_PASSWORD=your-postgresql-password-here
POSTGRESQL_NAME_DEV=nfxid_dev
POSTGRESQL_NAME_PROD=nfxid_prod

# ============================================
# Redis 配置 / Redis Configuration
# ============================================
REDIS_HOST=192.168.1.64
REDIS_PORT=10181
REDIS_PASSWORD=your-redis-password-here

# ============================================
# Kafka 配置 / Kafka Configuration
# ============================================
KAFKA_HOST=192.168.1.64
KAFKA_PORT=10183
KAFKA_BROKERS=192.168.1.64:10183

# ============================================
# RabbitMQ 配置 / RabbitMQ Configuration
# ============================================
RABBITMQ_HOST=192.168.1.64
RABBITMQ_PORT=10185
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=your-rabbitmq-password-here
RABBITMQ_VHOST=/

# ============================================
# Token 配置 / Token Configuration
# ============================================
TOKEN_SECRET_KEY=your-secret-key-here-change-in-production
TOKEN_ISSUER=nfxid
TOKEN_ACCESS_TTL=24h
TOKEN_REFRESH_TTL=168h
TOKEN_ALGORITHM=HS256

# ============================================
# Email 配置 / Email Configuration
# ============================================
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=your-email@gmail.com
EMAIL_SMTP_PASSWORD=your-google-email-app-password-here
EMAIL_SMTP_FROM=your-email@gmail.com

# ============================================
# 证书配置 / Certificate Configuration
# ============================================
CERTS_DIR=/your-repo-location/NFX-Edge/Apis
